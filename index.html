from flask import Flask, render_template, jsonify, request
import json
from datetime import datetime

app = Flask(__name__)

# Sample data - replace with your actual data
data = {
    "name": "MD Rijowan Khan",
    "title": "DevOps Engineer & AI Researcher",
    "github": "https://github.com/yourusername",
    "email": "rijowan@example.com",
    "phone": "+86 123 4567 890",
    "location": "Beijing, China",
    "linkedin": "https://linkedin.com/in/yourusername",
    "tagline": "Building scalable systems with cutting-edge technology",
    "current_year": datetime.now().year,
    
    "education": {
        "degree": "Bachelor of Science in Computer Science",
        "duration": "2021 - 2025",
        "university": "China University of Petroleum Beijing",
        "gpa": "3.8/4.0",
        "coursework": [
            "Cloud Computing", "Machine Learning", "DevOps Practices",
            "Distributed Systems", "Data Structures & Algorithms"
        ]
    },
    
    "extracurricular": [
        {"role": "Technical Lead", "organization": "CUPB Coding Club", "duration": "2022-Present", "icon": "code"},
        {"role": "Volunteer Tutor", "organization": "Computer Science Department", "duration": "2023-Present", "icon": "chalkboard-teacher"}
    ],
    
    "experience": [
        {
            "title": "DevOps Intern",
            "company": "Tech Solutions Inc.",
            "type": "Internship",
            "duration": "Jun 2023 - Sep 2023",
            "responsibilities": [
                "Implemented CI/CD pipelines using Jenkins",
                "Containerized applications using Docker",
                "Deployed microservices on Kubernetes"
            ]
        }
    ],
    
    "projects": [
        {
            "title": "Cloud Deployment Platform",
            "category": "DevOps",
            "description": "Automated cloud deployment platform with CI/CD",
            "tools": ["Docker", "Kubernetes", "AWS", "Terraform"],
            "github": "#",
            "demo": "#"
        }
    ],
    
    "skills": {
        "Programming": [
            {"name": "Python", "level": 90, "icon": "python"},
            {"name": "Java", "level": 85, "icon": "java"}
        ],
        "DevOps & Cloud": [
            {"name": "Docker", "level": 85, "icon": "docker"},
            {"name": "Kubernetes", "level": 80, "icon": "kubernetes"}
        ]
    },
    
    "publications": [
        {
            "title": "AI-Based Cloud Optimization",
            "authors": "Rijowan Khan et al.",
            "conference": "International Conference on AI",
            "status": "published"
        }
    ],
    
    "achievements": [
        {"title": "Best Project Award", "description": "University Hackathon 2023", "icon": "trophy"},
        {"title": "Academic Excellence", "description": "Dean's List 2022, 2023", "icon": "award"}
    ]
}

@app.route('/')
def index():
    return render_template('index.html', data=data)

@app.route('/send-message', methods=['POST'])
def send_message():
    try:
        message_data = request.json
        # Here you would typically send an email or save to database
        print(f"Message received: {message_data}")
        return jsonify({"success": True, "message": "Message sent successfully!"})
    except Exception as e:
        return jsonify({"success": False, "message": str(e)})

if __name__ == '__main__':
    app.run(debug=True)
